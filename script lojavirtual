CREATE TABLE pessoa (
	pes_id	serial primary key,
	pes_nome	varchar(60),
	pes_cpf	char(14),
	pes_rg	varchar(20),
	pes_data_nasc	date,
	pes_rua	varchar(60),
	pes_bairro	varchar(30),
	pes_cidade	varchar(30),
	pes_uf	char(2),
	pes_cep	integer,
	pes_email	varchar(40),
	pes_senha	varchar(32),
	pes_tipo varchar(30)
);

CREATE TABLE fone (
	fon_id	serial	primary key,
	pes_id	integer,
	fon_numero	varchar(20),
	fon_descricao	varchar(30),
	constraint rel_pessoa_fone foreign key (pes_id) references pessoa (pes_id)
);

CREATE TABLE produto (
	pro_id serial NOT NULL Primary Key,
	pro_nome character varying(80),
	pro_preco float,
);

CREATE TABLE forma_pgto (
	fpg_id serial primary key,
	fpg_descricao varchar(20),
	fpg_num_max_parc integer,
	fpg_num_padrao_parc integer,
	fpg_intervalo_dias integer,
	fpg_percentual_acres float
);

CREATE TABLE pedido (
	ped_id serial primary key,
	pes_id int not null,
	fpg_id int not null,
	ped_qtdparcelas int,
	ped_dataemissao date not null,
	ped_status varchar(15),
	ped_dataAutorizacao date,
	ped_total float,
	ped_desconto float,
		constraint fkpes foreign key (pes_id) references pessoa(pes_id),
		constraint fkfpg foreign key (fpg_id) references forma_pgto(fpg_id)
);

CREATE TABLE itens_pedido (
	ipe_id serial,
	ped_id integer not null,
	pro_id integer not null,
	ser_id integer not null,
	ipe_qtde integer not null,
	ipe_valorunit float,
	ipe_subtotal float,
		constraint rel_pedido_itenspedido foreign key (ped_id) references pedido(ped_id),
		constraint rel_produto_itenspedido foreign key (pro_id) references produto(pro_id),
		constraint rel_servico_itenspedido foreign key (ser_id) references servico(ser_id)
		
);

